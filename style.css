/* Premium Dark Professional Design v7.0 - Ultra Premium with Theme Support */
:root {
    /* --- SHARED PALETTE --- */
    --primary: #60a5fa;
    --primary-dark: #3b82f6;
    --accent: #38bdf8;
    --success: #34d399;
    --danger: #f87171;
    --warning: #f59e0b;

    /* --- DARK THEME (Default) --- */
    --bg-gradient: linear-gradient(135deg, #0a192f 0%, #112240 50%, #0a192f 100%);
    --surface: rgba(17, 34, 64, 0.80);
    --glass: rgba(15, 35, 70, 0.70);
    --glass-border: rgba(96, 165, 250, 0.2);
    --text: #ffffff;
    --text-light: #cbd5e1;
    --card-bg: rgba(30, 41, 59, 0.5);

    /* Chart Colors (Dark) */
    --chart-grid: rgba(255, 255, 255, 0.1);
    --chart-text: #94a3b8;

    --radius: 20px;
    --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.4);
    --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.5);
    --shadow-lg: 0 10px 30px rgba(0, 0, 0, 0.6);
}

/* --- LIGHT THEME OVERRIDES --- */
[data-theme="light"] {
    --bg-gradient: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
    --surface: rgba(255, 255, 255, 0.85);
    /* Whiter surface */
    --glass: rgba(255, 255, 255, 0.75);
    --glass-border: rgba(56, 189, 248, 0.3);
    /* Lighter blue border */
    --text: #0f172a;
    /* Dark text */
    --text-light: #475569;
    --card-bg: rgba(255, 255, 255, 0.6);

    /* Chart Colors (Light) */
    --chart-grid: rgba(0, 0, 0, 0.1);
    --chart-text: #475569;
}

html {
    background-color: #0a192f;
    overflow-x: hidden;
}

[data-theme="light"] html {
    background-color: #f0f9ff;
}

body {
    font-family: 'Outfit', sans-serif;
    background:
        linear-gradient(rgba(10, 25, 47, 0.88), rgba(15, 35, 70, 0.92)),
        url('FONDO.jpg') center/cover no-repeat fixed,
        linear-gradient(135deg, #0a192f 0%, #112240 50%, #0a192f 100%);
    color: var(--text);
    margin: 0;
    min-height: 100vh;
    overflow-x: hidden;
    -webkit-font-smoothing: antialiased;
    position: relative;
    transition: color 0.3s ease, background 0.3s ease;
}

[data-theme="light"] body {
    background:
        linear-gradient(rgba(240, 249, 255, 0.85), rgba(224, 242, 254, 0.9)),
        url('FONDO.jpg') center/cover no-repeat fixed,
        linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
}

/* --- EPIC BACKGROUND ANIMATIONS --- */
body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background:
        radial-gradient(circle at 15% 20%, rgba(56, 189, 248, 0.25) 0%, transparent 35%),
        radial-gradient(circle at 85% 80%, rgba(16, 185, 129, 0.20) 0%, transparent 35%),
        radial-gradient(circle at 50% 50%, rgba(99, 102, 241, 0.15) 0%, transparent 40%),
        radial-gradient(circle at 70% 30%, rgba(14, 165, 233, 0.18) 0%, transparent 30%);
    animation: bgIntensePulse 15s ease-in-out infinite;
    pointer-events: none;
    z-index: 0;
}

[data-theme="light"] body::before {
    background:
        radial-gradient(circle at 15% 20%, rgba(56, 189, 248, 0.15) 0%, transparent 35%),
        radial-gradient(circle at 85% 80%, rgba(16, 185, 129, 0.10) 0%, transparent 35%),
        radial-gradient(circle at 50% 50%, rgba(99, 102, 241, 0.08) 0%, transparent 40%);
}

@keyframes bgIntensePulse {

    0%,
    100% {
        opacity: 1;
        transform: scale(1) rotate(0deg);
    }

    50% {
        opacity: 0.85;
        transform: scale(1.08) rotate(2deg);
    }
}

/* --- ANIMATIONS --- */
@keyframes fadeInDown {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.fade-in-down {
    animation: fadeInDown 0.6s cubic-bezier(0.2, 0.8, 0.2, 1);
}

.fade-in-up {
    animation: fadeInUp 0.6s cubic-bezier(0.2, 0.8, 0.2, 1) backwards;
}


/* --- HEADER --- */
/* Replacing old .app-header with the new Glass Header widely used */
.glass-header {
    background: rgba(10, 25, 47, 0.90);
    backdrop-filter: blur(16px) saturate(180%);
    border-bottom: 1px solid var(--glass-border);
    padding: 12px 0;
    display: flex;
    align-items: center;
    justify-content: space-between;
    position: sticky;
    top: 0;
    z-index: 1000;
    margin-bottom: 24px !important;
    box-shadow: var(--shadow-md);
    transition: background 0.3s ease, border-color 0.3s ease;
}

[data-theme="light"] .glass-header {
    background: rgba(255, 255, 255, 0.85);
    border-bottom: 1px solid rgba(56, 189, 248, 0.3);
}

.glass-header::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(96, 165, 250, 0.4) 50%, transparent);
}

/* Utils for Header */
.filter-white {
    filter: brightness(0) invert(1) drop-shadow(0 2px 4px rgba(255, 255, 255, 0.3));
    transition: filter 0.3s ease;
}

[data-theme="light"] .filter-white {
    filter: none;
    /* Original colors for light mode */
}

.text-gradient {
    background: linear-gradient(135deg, #60a5fa 0%, #22d3ee 33%, #10b981 66%, #a78bfa 100%);
    background-size: 300% 100%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: gradientFlow 6s ease infinite;
}

@keyframes gradientFlow {

    0%,
    100% {
        background-position: 0% 50%;
    }

    50% {
        background-position: 100% 50%;
    }
}

/* --- CARDS & PANELS --- */
.glass-card,
.card {
    background: var(--surface);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius);
    box-shadow: var(--shadow-md);
    transition: background 0.3s ease, border-color 0.3s ease, transform 0.25s ease;
    overflow: hidden;
    margin-bottom: 24px;
    color: var(--text);
}

.glass-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
}

.card-header-custom {
    padding: 16px 20px;
    background: rgba(10, 25, 47, 0.50);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius);
    margin-bottom: 16px;
    font-weight: 700;
    color: var(--text);
    font-size: 1rem;
    display: flex;
    align-items: center;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

[data-theme="light"] .card-header-custom {
    background: rgba(255, 255, 255, 0.6);
    color: var(--text);
    border-color: rgba(56, 189, 248, 0.3);
}

.card-header-custom i {
    color: var(--primary);
    font-size: 1.1rem;
    margin-right: 10px;
}

.card-body {
    padding: 24px;
}

/* --- INPUTS --- */
.custom-input,
.form-control {
    background: rgba(255, 255, 255, 0.08) !important;
    border: 1.5px solid var(--glass-border) !important;
    border-radius: var(--radius) !important;
    color: var(--text) !important;
    font-size: 15px;
    font-weight: 500;
    transition: all 0.3s ease;
}

[data-theme="light"] .custom-input,
[data-theme="light"] .form-control {
    background: rgba(255, 255, 255, 0.7) !important;
    border-color: #cbd5e1 !important;
    color: #1e293b !important;
}

.custom-input:focus,
.form-control:focus {
    background: rgba(255, 255, 255, 0.12) !important;
    border-color: var(--primary) !important;
    box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.2) !important;
}

[data-theme="light"] .custom-input:focus,
[data-theme="light"] .form-control:focus {
    background: #ffffff !important;
}

.form-floating>label {
    color: var(--text-light);
}

/* --- BUTTONS --- */
.custom-btn,
.btn-primary {
    background: linear-gradient(135deg, var(--primary), var(--accent));
    border: none;
    border-radius: 16px;
    padding: 12px 24px;
    font-weight: 700;
    color: white !important;
    box-shadow: 0 4px 12px rgba(96, 165, 250, 0.4);
    transition: all 0.3s ease;
}

.custom-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(96, 165, 250, 0.5);
    background: linear-gradient(135deg, #3b82f6, #0ea5e9);
}

/* PWA Install Button */
.btn-install-pwa {
    background: linear-gradient(135deg, var(--primary), var(--accent));
    border: none;
    border-radius: 16px;
    padding: 14px 28px;
    font-weight: 700;
    font-size: 1rem;
    color: white;
    box-shadow: 0 10px 25px -5px rgba(2, 132, 199, 0.4);
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.btn-install-pwa:hover {
    transform: translateY(-2px);
    box-shadow: 0 15px 35px -5px rgba(2, 132, 199, 0.5);
}

/* --- MODALS --- */
.glass-modal {
    background: var(--surface);
    border: 1px solid var(--glass-border);
    color: var(--text);
}

[data-theme="light"] .glass-modal {
    background: #ffffff;
    color: #0f172a;
}

.modal-header {
    border-bottom: 1px solid var(--glass-border);
}

.modal-footer {
    border-top: 1px solid var(--glass-border);
}

.btn-close {
    filter: invert(1);
}

[data-theme="light"] .btn-close {
    filter: none;
}

/* --- STATUS DASHBOARD (Old style but themed) --- */
.status-dashboard {
    background: var(--glass);
    border: 1px solid var(--glass-border);
    border-radius: 16px;
    padding: 16px;
    margin-bottom: 20px;
    display: flex;
    gap: 12px;
}

/* --- SCROLLBAR --- */
::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.1);
}

::-webkit-scrollbar-thumb {
    background: var(--primary);
    border-radius: 4px;
}

[data-theme="light"] ::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.05);
}

/* --- UTILITIES --- */
.section-subtitle {
    font-size: 0.8rem;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    color: var(--text);
    font-weight: 700;
    margin: 16px 0 12px 0;
    display: block;
}

/* --- MONITOR SPECIFIC GRID --- */
.dashboard-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1.5rem;
}

/* Media queries from Monitor integrated here if needed, or kept in Monitor inline for specificity. 
   Ideally all here, but for safety leaving complex grids in Monitor HTML if they were specific. 
   (Checking file: they were inline. I will leave layout logic inline for now to avoid breaking grids, 
   but themes will apply via vars). */

@media (max-width: 1200px) {
    .dashboard-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 768px) {
    .dashboard-grid {
        grid-template-columns: 1fr;
    }
}
/* --- LIGHT THEME OVERRIDES --- */
[data-theme='light'] {
    --bg-gradient: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
    --surface: rgba(255, 255, 255, 0.85);
    --glass: rgba(255, 255, 255, 0.75);
    --glass-border: rgba(56, 189, 248, 0.3);
    --text: #0f172a;
    --text-light: #475569;
    --card-bg: rgba(255, 255, 255, 0.6);
    --chart-grid: rgba(0, 0, 0, 0.1);
    --chart-text: #475569;
}

/* --- EPIC ANIMATIONS & UTILS --- */
[data-theme='light'] body::before {
    background:
        radial-gradient(circle at 15% 20%, rgba(56, 189, 248, 0.15) 0%, transparent 35%),
        radial-gradient(circle at 85% 80%, rgba(16, 185, 129, 0.10) 0%, transparent 35%),
        radial-gradient(circle at 50% 50%, rgba(99, 102, 241, 0.08) 0%, transparent 40%);
}

.filter-white {
    filter: brightness(0) invert(1) drop-shadow(0 2px 4px rgba(255, 255, 255, 0.3));
}

[data-theme='light'] .filter-white {
    filter: none;
}

.text-gradient {
    background: linear-gradient(135deg,
            #60a5fa 0%,
            #22d3ee 33%,
            #10b981 66%,
            #a78bfa 100%);
    background-size: 300% 100%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: gradientFlow 6s ease infinite;
}

@keyframes gradientFlow {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
}


/* --- DASHBOARD GRID SYSTEM (Restored) --- */
.dashboard-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 24px;
    padding-bottom: 40px;
}

.dashboard-col {
    display: flex;
    flex-direction: column;
}

/* Group Cards */
.group-card {
    background: var(--surface);
    border: 1px solid var(--glass-border);
    border-radius: var(--radius);
    padding: 0;
    overflow: hidden;
    height: 100%;
    box-shadow: var(--shadow-md);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.group-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
}

.group-header {
    background: rgba(10, 25, 47, 0.5); /* Darker header within card */
    padding: 16px 20px;
    border-bottom: 1px solid var(--glass-border);
    font-size: 0.9rem;
    letter-spacing: 1px;
    color: var(--primary);
    display: flex;
    align-items: center;
}

[data-theme='light'] .group-header {
    background: rgba(255, 255, 255, 0.5);
    color: var(--primary-dark);
}

.group-body {
    padding: 20px;
}

/* Sub-sections */
.sub-section {
    margin-bottom: 20px;
}

.sub-section:last-child {
    margin-bottom: 0;
}

.sub-title {
    font-size: 0.75rem;
    text-transform: uppercase;
    color: var(--text-light);
    margin-bottom: 10px;
    font-weight: 700;
    letter-spacing: 0.5px;
    border-bottom: 1px dashed var(--glass-border);
    padding-bottom: 4px;
}

/* Data Items */
.data-item {
    background: rgba(255, 255, 255, 0.03);
    border-radius: 12px;
    padding: 12px;
    text-align: center;
    border: 1px solid transparent;
    transition: all 0.2s;
}

[data-theme='light'] .data-item {
    background: rgba(0, 0, 0, 0.03);
}

.data-item:hover {
    background: rgba(255, 255, 255, 0.08);
    border-color: var(--glass-border);
}

.val-text {
    font-size: 1.4rem;
    font-weight: 700;
    color: var(--text);
    line-height: 1.2;
    text-shadow: 0 2px 10px rgba(0,0,0,0.2);
}

[data-theme='light'] .val-text {
    color: var(--primary-dark);
    text-shadow: none;
}

.label-text {
    font-size: 0.75rem;
    color: var(--text-light);
    margin-top: 4px;
}

.unit-text {
    font-size: 0.7rem;
    color: var(--primary);
    font-weight: 600;
    opacity: 0.8;
}

/* --- THEME BUTTON FIX --- */
/* Ensure buttons are visible in Light Mode */
[data-theme='light'] .btn-outline-light {
    color: var(--text-light) !important;
    border-color: var(--glass-border) !important;
}

[data-theme='light'] .btn-outline-light:hover {
    background-color: var(--primary) !important;
    color: white !important;
    border-color: var(--primary) !important;
}

[data-theme='light'] .btn-outline-light i {
    color: var(--text-light);
}
[data-theme='light'] .btn-outline-light:hover i {
    color: white;
}


/* --- DATA GRID FIX --- */
.data-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 8px;
}

@media (max-width: 1400px) {
    .dashboard-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 768px) {
    .dashboard-grid {
        grid-template-columns: 1fr;
    }
}


/* --- OPTIMIZATION FOR LAPTOPS (1366x768) --- */
@media (min-width: 1200px) and (max-width: 1450px) {
    /* Force 4 columns to fit width */
    .dashboard-grid {
        grid-template-columns: repeat(4, 1fr) !important;
        gap: 12px;
        padding-bottom: 20px;
    }

    /* Compact Cards */
    .group-header {
        padding: 8px 12px;
        font-size: 0.8rem;
    }

    .group-body {
        padding: 10px;
    }

    .sub-section {
        margin-bottom: 8px;
    }

    .sub-title {
        margin-bottom: 4px;
        font-size: 0.65rem;
    }

    /* Compact Data Items */
    .data-item {
        padding: 6px;
    }

    .val-text {
        font-size: 1.1rem;
    }

    .label-text {
        font-size: 0.65rem;
        margin-top: 2px;
    }

    .unit-text {
        font-size: 0.6rem;
    }

    /* Reduce Header Height */
    .glass-header {
        padding: 6px 0;
        margin-bottom: 12px !important;
    }

    .nav-logo {
        height: 24px;
    }

    #mainContainer {
        padding-top: 0.5rem;
    }
}


/* --- INSTALL BUTTON TEXT FIX --- */
.install-title {
    color: white; /* Default Dark Mode */
}
.install-subtitle {
    color: rgba(255, 255, 255, 0.5); /* Default Dark Mode */
}

[data-theme='light'] .install-title {
    color: var(--primary-dark);
}
[data-theme='light'] .install-subtitle {
    color: var(--text-light);
}


/* --- FOOTER & ADMIN CONTROLS --- */
.bottom-actions {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.5rem 1rem;
    margin-top: 2rem;
    border-top: 1px solid var(--glass-border);
    background: rgba(0, 0, 0, 0.2);
    border-radius: 0 0 20px 20px;
}

.action-icons {
    display: flex;
    gap: 1.5rem;
    align-items: center;
}

.admin-trigger {
    font-size: 1.6rem; /* Larger icons */
    opacity: 0.7;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    color: var(--text-light);
}

.admin-trigger:hover {
    opacity: 1;
    transform: scale(1.15) rotate(15deg);
    color: var(--primary);
}

.app-controls {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.version-badge {
    font-size: 0.75rem;
    background: rgba(255, 255, 255, 0.1);
    padding: 2px 8px;
    border-radius: 12px;
    color: var(--text-light);
}

.btn-update-compact {
    background: none;
    border: none;
    color: var(--text-light);
    font-size: 1.2rem;
    cursor: pointer;
    transition: transform 0.3s;
    padding: 0;
}

.btn-update-compact:hover {
    transform: rotate(180deg);
    color: var(--primary);
}

[data-theme='light'] .bottom-actions {
    background: rgba(255, 255, 255, 0.3);
}
[data-theme='light'] .admin-trigger, 
[data-theme='light'] .btn-update-compact {
    color: var(--text-light);
}
[data-theme='light'] .admin-trigger:hover, 
[data-theme='light'] .btn-update-compact:hover {
    color: var(--primary-dark);
}


/* --- FINAL AESTHETIC POLISH --- */
.dashboard-grid {
    justify-content: center; /* Center cards horizontally */
    max-width: 1920px;
    margin: 0 auto;
}

/* Enhanced Glass Cards */
.group-card {
    backdrop-filter: blur(20px) saturate(180%);
    box-shadow: 
        0 4px 6px -1px rgba(0, 0, 0, 0.1), 
        0 2px 4px -1px rgba(0, 0, 0, 0.06),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.05);
}

[data-theme='light'] .group-card {
    background: rgba(255, 255, 255, 0.7);
    border: 1px solid rgba(0, 0, 0, 0.05);
}

/* Interactive Data Items */
.data-item {
    transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1), 
                box-shadow 0.2s cubic-bezier(0.4, 0, 0.2, 1),
                background 0.2s ease;
}

.data-item:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    z-index: 10;
}

[data-theme='dark'] .data-item:hover {
    background: rgba(255, 255, 255, 0.05);
}


/* --- MOBILE HEADER FIX --- */
@media (max-width: 768px) {
    .glass-header {
        padding: 0.75rem 0 !important;
    }

    .glass-header > div {
        flex-direction: column !important;
        gap: 0.75rem;
    }

    .glass-header img {
        height: 24px !important;
    }

    .glass-header h1 {
        font-size: 0.7rem !important;
        letter-spacing: 1px !important;
        text-align: center;
    }

    .glass-header .border-start {
        border-left: none !important;
        padding-left: 0 !important;
        margin-left: 0 !important;
    }

    /* Remove absolute positioning on mobile */
    .glass-header > div > div:last-child {
        position: static !important;
    }
}

@media (max-width: 480px) {
    .glass-header h1 {
        font-size: 0.65rem !important;
    }

    .glass-header button,
    .glass-header a {
        width: 36px !important;
        height: 36px !important;
    }

    .glass-header button i,
    .glass-header a i {
        font-size: 1rem !important;
    }
}

